---
title: 容器架构
date: 2019-03-17 13:51:19
categories: "Docker容器技术"
tags:

    - 容器

series:
description: 容器What Why How
keywords: 容器
---

# 一、 什么是容器（What）
由两部分组成： 应用程序本身、 依赖

# 二、为什么需要容器（Why）

容器具备了超强的可移植能力
**Docker 特性**
- 打包对象：任何的软件及其依赖
- 硬件依赖：无需修改便可以运行几乎所有的平台
- 隔离性：提供run、start、stop标准操作
- 高效性：轻量级、快速启动迁移
- 职能分工：开发-运维
  
**容器优势**
- 环境隔离、可重复性

# 三、容器是如何工作（How）

# 四、Docker架构详解
**Docker 的核心组件**
- Docker 客户端-Client，最常用的客户端是docker命令，支持很多子命令
- Docker 服务端-Docker daemon，运行在docker host上，负责创建、运行、监控容器，构建、存储镜像
- Docker 镜像-Image，可以将镜像看作只读模板，通过他可以创建Docker容器，创建的方法有：从无到有、下载已有的现成镜像；
  *将镜像的内容和创建步骤描述在一个文件钟，这个文件被称作Dockerfile,通过执行docker build <docker-file> 可以创建出Docker的镜像*
- Registry-存放Docker镜像的仓库，分为公有和私有，其中 docker pull（下载镜像）、docker run（先下载镜像咋启动容器）
- Docker 容器-Container，就是docker镜像运行的实例，用户可以通过CLI 或者API启动、停止、移动或者删除容器。

# 组件如何协作
**容器启动流程**
* 1、Docker 客户端执行 docker run 命令
* 2、Docker daemon 发现本地没有对应的镜像
* 3、daemon 从Docker hub 下载镜像
* 4、下载完成后，镜像被保存到本地
* Docker daemon 启动容器去
**相关命令**
- docker images:查看本地的镜像
- docker ps：显示正在运行的容器
- docker run:启动容器